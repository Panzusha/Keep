-- Generated by Mocodo 4.2.4

-- Création de la base de données
CREATE DATABASE IF NOT EXISTS keep;

-- Utilisation de la base de données
USE keep;

CREATE TABLE IF NOT EXISTS categories (
  id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  label VARCHAR(50),
  allow_Delete BOOLEAN,
  created_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS notes (
  id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  title VARCHAR(50),
  description TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS pivot (
  id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  note_id BIGINT UNSIGNED NOT NULL,
  cat_id BIGINT UNSIGNED NOT NULL
);

ALTER TABLE Pivot ADD FOREIGN KEY (note_id) REFERENCES notes (id);
ALTER TABLE Pivot ADD FOREIGN KEY (cat_id) REFERENCES categories (id);
